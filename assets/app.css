/*****************************************
 * Base & Utilities
 *****************************************/
body{ -webkit-font-smoothing:antialiased; }
.badge-soft{ background:#eef6ff; color:#0d6efd; }

#notifBar .alert{ box-shadow:0 6px 20px rgba(0,0,0,.12); }

.navbar .nav-link.active{ font-weight:600; }
@media (max-width:991.98px){
  .navbar .nav-link{ padding:.5rem .75rem; }
}

/* Gate nav (ditampilkan setelah auth.gate() jalan) */
#navMenu .nav-item{ display:none; }
body.gated #navMenu .nav-item{ display:list-item; }

/*****************************************
 * Global Blocker (overlay)
 *****************************************/
.blocker{
  position:fixed; inset:0;
  display:flex; flex-direction:column; justify-content:center; align-items:center;
  background:rgba(255,255,255,.6); z-index:1090;
}
#blocker.d-none{ display:none !important; pointer-events:none !important; }

/*****************************************
 * Stat cards & Vehicle cards
 *****************************************/
.stat{ border-left:4px solid #0d6efd; }
.stat-label{ font-size:.85rem; color:#6c757d; }
.stat-value{ font-size:1.6rem; font-weight:700; }

.card-veh{ transition:transform .05s ease-in; }
.card-veh:hover{ transform:translateY(-2px); }
.card-veh.yellow{ background:#fff8e1; }
.card-veh.pink{ background:#ffe8ef; }
.card-veh.blue{ background:#e8f1ff; }
.card-veh.gray{ background:#f1f3f5; }

/* (opsional) warna badge status mengikuti status */
.badge-status.bg-available   { background-color:#28a745 !important; }
.badge-status.bg-allocated   { background-color:#f0ad4e !important; color:#212529 !important; }
.badge-status.bg-ontrip      { background-color:#dc3545 !important; }
.badge-status.bg-maintenance { background-color:#6c757d !important; }
.badge-status.bg-inactive    { background-color:#6c757d !important; }

/* ===== Kartu Kendaraan: warna per-status ===== */
.card-veh { transition: transform .05s ease-in; }
.card-veh:hover { transform: translateY(-2px); }

/* Tersedia = Hijau */
.card-veh.green { 
  background: #e9f7ef;             /* hijau sangat lembut */
  border-left: 4px solid #28a745;  /* aksen hijau */
}

/* Teralokasi = Kuning */
.card-veh.yellow { 
  background: #fff8e1; 
  border-left: 4px solid #f0ad4e;  /* aksen oranye/kuning */
}

/* Dalam Perjalanan = Merah */
.card-veh.red { 
  background: #ffeaea; 
  border-left: 4px solid #dc3545;  /* aksen merah */
}

/* Perbaikan & Non-Aktif = Abu-abu */
.card-veh.gray { 
  background: #f1f3f5; 
  border-left: 4px solid #adb5bd;  /* aksen abu */
}

/*****************************************
 * Auto-suggest wilayah
 *****************************************/
.suggest-host{ position:relative; }
.suggest-list{
  position:absolute; left:0; right:0; top:100%;
  background:#fff; border:1px solid #e9ecef; border-radius:.375rem;
  box-shadow:0 10px 24px rgba(0,0,0,.08);
  max-height:220px; overflow:auto; z-index:2000; pointer-events:auto;
}
.suggest-list.d-none{ display:none !important; }
.suggest-item{ padding:.45rem .75rem; cursor:pointer; }
.suggest-item:hover{ background:#e9f2ff; }

/* Tombol swap versi mobile di field "Dari" */
@media (max-width:767.98px){
  #fromWrap{ position:relative; }
  #ordFrom{ padding-right:3rem; }
  #btnSwapMobile{
    position:absolute; right:.5rem; top:50%; transform:translateY(-50%);
    width:40px; height:40px; border-radius:50%; border:0;
    background:#e9f2ff; color:#0d6efd; box-shadow:0 6px 14px rgba(13,110,253,.25);
  }
  #btnSwapMobile:active{ transform:translateY(-50%) scale(.97); }
}

/*****************************************
 * Scrollable Tables (Desktop full, Mobile scroll)
 *****************************************/
.nowrap table, .nowrap .table{ white-space:nowrap; }

.table-wrap{
  display:block; width:100%; max-width:100%;
  overflow-x:auto; -webkit-overflow-scrolling:touch; overscroll-behavior-inline:contain;
}

/* Desktop (>=992px): tabel isi penuh card */
.table-wrap > table{
  width:100%; min-width:100%;
  border-collapse:separate; border-spacing:0;
}

/* Mobile & tablet (<992px): tabel boleh lebih lebar agar bisa di-geser */
@media (max-width:991.98px){
  .table-wrap > table{ width:max-content; min-width:720px; }
  .table-wrap--veh > table{ min-width:1180px; } /* tabel banyak kolom (vehicles/users/drivers) */
}

/* Jangan patah baris saat perlu */
.nowrap th, .nowrap td{ white-space:nowrap; }

/* Sticky kolom pertama & terakhir */
.table-sticky-first th:first-child,
.table-sticky-first td:first-child{
  position:sticky; left:0; z-index:1;
  background:var(--bs-body-bg,#fff); box-shadow:1px 0 0 rgba(0,0,0,.05);
}
.table-sticky-last th:last-child,
.table-sticky-last td:last-child{
  position:sticky; right:0; z-index:1;
  background:var(--bs-body-bg,#fff); box-shadow:-1px 0 0 rgba(0,0,0,.05);
}

/* Scroll hint (muncul hanya di layar kecil) */
.table-wrap[data-hint="1"]{ position:relative; }
.table-wrap[data-hint="1"]::after{
  display:none;
  content:"â†” geser"; position:absolute; right:.5rem; bottom:.35rem;
  font-size:.75rem; color:#6c757d; background:rgba(255,255,255,.85);
  padding:.1rem .35rem; border-radius:.25rem;
}
@media (max-width:991.98px){
  .table-wrap[data-hint="1"]::after{ display:block; }
}

/*****************************************
 * Penataan tabel per-halaman
 *****************************************/
/* Kolom No (tengah) di approvals & cashier */
section[data-page="approvals"] table th:first-child,
section[data-page="approvals"] table td:first-child,
section[data-page="cashier"]   table th:first-child,
section[data-page="cashier"]   table td:first-child{
  width:56px; text-align:center;
}

/* Sel tegak tengah di Driver & Kasir */
section[data-page="driver"]  table td,
section[data-page="cashier"] table td{ vertical-align:middle; }

/* Lebar kolom untuk manajemen kendaraan/driver/user */
.table-wrap--veh th:nth-child(1), .table-wrap--veh td:nth-child(1){ min-width:140px; } /* Nama/Username */
.table-wrap--veh th:nth-child(2), .table-wrap--veh td:nth-child(2){ min-width:110px; } /* Merk / No WA / Role */
.table-wrap--veh th:nth-child(3), .table-wrap--veh td:nth-child(3){ min-width:120px; } /* NoPol / Status / Telegram ID */
.table-wrap--veh th:nth-child(4), .table-wrap--veh td:nth-child(4){ min-width:90px;  text-align:center; } /* Kap / userId / Change Pass */
.table-wrap--veh th:nth-child(5), .table-wrap--veh td:nth-child(5){ min-width:160px; } /* Driver */
.table-wrap--veh th:nth-child(6), .table-wrap--veh td:nth-child(6){ min-width:150px; } /* Status */
.table-wrap--veh th:nth-child(7), .table-wrap--veh td:nth-child(7){ min-width:180px; } /* Keterangan */
.table-wrap--veh th:nth-child(8), .table-wrap--veh td:nth-child(8){ min-width:140px; text-align:center; } /* Aksi */

/* Input/select di tabel kendaraan agar tidak terlalu sempit */
.table-wrap--veh input.form-control{ min-width:120px; }
.table-wrap--veh td:nth-child(3) input.form-control{ min-width:110px; } /* NoPol */
.table-wrap--veh td:nth-child(4) input.form-control{ min-width:70px;  text-align:center; } /* Kapasitas */
.table-wrap--veh select.form-select{ min-width:140px; }
.table-wrap--veh td:nth-child(5) select.form-select{ min-width:160px; } /* Driver */
.table-wrap--veh td:nth-child(6) select.form-select{ min-width:150px; } /* Status */

/* ===== Dashboard vehicle cards (modern) ===== */
.veh-card{
  cursor:pointer;
  border:0;
  border-radius: .75rem;
  padding: .9rem 1rem;
  background: #ffffff;
  box-shadow: 0 8px 24px rgba(0,0,0,.06);
  transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
}
.veh-card:hover{
  transform: translateY(-2px);
  box-shadow: 0 12px 28px rgba(0,0,0,.10);
}

.veh-card .veh-head{
  display:flex; align-items:center; justify-content:space-between; gap:.75rem;
  margin-bottom:.25rem;
}
.veh-card .veh-title{
  font-weight:600; display:flex; align-items:center; flex-wrap:wrap;
}
.veh-card .veh-plate{
  display:inline-block; font-size:.85rem; padding:.1rem .45rem; margin-left:.5rem;
  background:#f6f7f9; border-radius:.35rem; color:#555; border:1px solid #eceff3;
}
.veh-card .veh-badge{
  font-size:.75rem; padding:.15rem .5rem; border-radius:.35rem;
  background:#eef2ff; color:#3450d3; border:1px solid #e3e8ff;
}
.veh-card .veh-sub{ margin-bottom:.25rem; }
.veh-card .veh-meta{ margin-top:.25rem; }
.veh-card .veh-foot{
  margin-top:.5rem; display:flex; align-items:center; justify-content:space-between; gap:.5rem;
}

.veh-card.veh-yellow{ background: #fffdf4; }
.veh-card.veh-pink{   background: #fff5f7; }
.veh-card.veh-blue{   background: #f4f8ff; }
.veh-card.veh-gray{   background: #f7f8fa; }

/* Kartu kendaraan dashboard */
.veh-card{
  cursor:pointer; background:#fff; border:1px solid #e9ecef; border-radius:.75rem;
  padding:.9rem 1rem; box-shadow:0 4px 14px rgba(0,0,0,.06); transition:.12s;
}
.veh-card:hover{ transform:translateY(-1px); box-shadow:0 10px 24px rgba(0,0,0,.10); }
.veh-head{ display:flex; justify-content:space-between; align-items:center; margin-bottom:.35rem; }
.veh-title{ font-weight:600; }
.veh-badge{ font-size:.75rem; background:#f1f3f5; padding:.2rem .5rem; border-radius:.25rem; }
.veh-sub{ min-height:1rem; }
.veh-meta{ margin-top:.35rem; }
.veh-foot{ display:flex; justify-content:space-between; align-items:center; margin-top:.5rem; }
.veh-plate{ font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; font-size:.85em; margin-left:.25rem; }
.veh-yellow{ background:#fff8e1; }
.veh-pink{ background:#ffe8ef; }
.veh-blue{ background:#e8f1ff; }
.veh-gray{ background:#f1f3f5; }

